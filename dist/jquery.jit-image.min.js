/*! jQuery JIT image - v1.1.0 - 2013-11-28\n* https://github.com/DeuxHuitHuit/jQuery-jit-image
* Copyright (c) 2013 Deux Huit Huit Licensed MIT */
!function(a,b,c){"use strict";c=c||"data-src-format",b=b||"img["+c+"]",a.fn.on=a.fn.on||a.fn.bind;var d=a(window),e=a(),f="jitImageOptions",g=function(a){return{width:a.container.width(),height:a.container.height()}},h=function(b,c,d,e,f){b&&c&&(e&&c.width?b.attr("width",c.width).width(c.width):b.removeAttr("width").width(""),e&&c.height?b.attr("height",c.height).height(c.height):b.removeAttr("height").height(""),d&&b.attr("src")!==d&&(b.one("load",function(){a.isFunction(f)&&f.call(this,c),b.trigger("loaded.jitImage",[c])}),b.attr("src",d)))},i=function(a,b,c){var d=a.attr(b.dataAttribute),e={url:d,height:!1,width:!1};return d&&(e.width=b.widthPattern.test(d),e.height=b.heightPattern.test(d),e.url=d.replace(b.widthPattern,~~c.width).replace(b.heightPattern,~~c.height)),e},j=function(a,b){if(b&&a){var c=b.size(b),d=i(a,b,c);d&&c&&(c.height>0||c.width>0)&&(c.width=d.width?c.width:!1,c.height=d.height?c.height:!1,b.set(a,c,d.url,b.forceCssResize,b.load))}},k=function(){a.each(e,function(b,c){var d=a(c),e=d.data(f),g=function(){j(d,d.data(f))};e&&(clearTimeout(e.jitTimeout),n.nonVisibleDelay&&!d.is(":visible")?e.jitTimeout=setTimeout(g,n.nonVisibleDelay):g())}),setTimeout(o,n.eventTimeout)},l=null,m=function(){clearTimeout(l),l=setTimeout(k,n.eventTimeout)},n={container:null,dataAttribute:c,defaultSelector:b,containerDataAttribute:"data-container",size:g,set:h,widthPattern:/\$w/gi,heightPattern:/\$h/gi,updateEvents:"resize orientationchange",eventTimeout:50,load:a.noop,nonVisibleDelay:1e3,forceCssResize:!0},o=function(){d.one(n.updateEvents,m)};a.jitImage={remove:function(a){e=e.not(a)},defaults:n,_getSize:g,_set:h,_getUrlFromFormat:i},a.fn.jitImage=function(b){var c=a(this),d=function(c,d){var e=a.extend({},n,b),g=a(d),h=g.attr(e.containerDataAttribute);e.container=e.container?a(e.container):h?g.closest(h):g.parent().length?g.parent():g,g.data(f,e),j(g,e)};return e=e.add(c),c.each(d)},d.load(function(){a(n.defaultSelector).jitImage(),o()})}(jQuery,window.jitImageSelector,window.jitImageDataAttribute);
//# sourceMappingURL=jquery.jit-image.min.js.map